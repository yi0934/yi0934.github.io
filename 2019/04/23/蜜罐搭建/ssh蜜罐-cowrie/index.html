<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>ssh蜜罐-cowrie | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ssh服务蜜罐cowrie cowrie 文档 docker pull cowrie/cowrie 配置docker-compose.yml`version: ‘3’ services:  cowrie:    restart: always    build:      context: .      dockerfile: Dockerfile    ports:   - &amp;quot;22:2">
<meta property="og:type" content="article">
<meta property="og:title" content="ssh蜜罐-cowrie">
<meta property="og:url" content="http://yoursite.com/2019/04/23/蜜罐搭建/ssh蜜罐-cowrie/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="ssh服务蜜罐cowrie cowrie 文档 docker pull cowrie/cowrie 配置docker-compose.yml`version: ‘3’ services:  cowrie:    restart: always    build:      context: .      dockerfile: Dockerfile    ports:   - &amp;quot;22:2">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-05-01T12:18:50.411Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ssh蜜罐-cowrie">
<meta name="twitter:description" content="ssh服务蜜罐cowrie cowrie 文档 docker pull cowrie/cowrie 配置docker-compose.yml`version: ‘3’ services:  cowrie:    restart: always    build:      context: .      dockerfile: Dockerfile    ports:   - &amp;quot;22:2">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-蜜罐搭建/ssh蜜罐-cowrie" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/23/蜜罐搭建/ssh蜜罐-cowrie/" class="article-date">
  <time datetime="2019-04-23T06:17:29.000Z" itemprop="datePublished">2019-04-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/蜜罐/">蜜罐</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ssh蜜罐-cowrie
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/cowrie/cowrie" title="ssh服务蜜罐" target="_blank" rel="noopener">ssh服务蜜罐cowrie</a></p>
<p><a href="https://owrie.readthedocs.io/en/latest/index.html" title="cowrie" target="_blank" rel="noopener">cowrie 文档</a></p>
<p>docker pull cowrie/cowrie</p>
<p>配置docker-compose.yml<br>`<br>version: ‘3’</p>
<p>services:<br>  cowrie:<br>    restart: always<br>    build:<br>      context: .<br>      dockerfile: Dockerfile<br>    ports:</p>
<pre><code>  - &quot;22:2222&quot;
  - &quot;23:2223&quot;
image: &quot;cowrie/cowrie&quot;
volumes:
  - /data/cowrie/cowrie-git/etc:/cowrie/cowrie-git/etc
  - /data/cowrie/cowrie-git/var:/cowrie/cowrie-git/var
</code></pre><p>`<br><strong>重点</strong><a href="https://github.com/cowrie/cowrie/blob/master/etc/cowrie.cfg.dist" title="配置文件" target="_blank" rel="noopener">cowrie.cfg配置文件</a><br>翻译一下</p>
<details><br><summary></summary><br><br><br># ============================================================================<br># 通用选项<br># ============================================================================<br>[honeypot]<br><br><br># 实例名<br>sensor_name=myhostname<br><br># shell上显示的虚假主机名<br>hostname = svr04<br><br><br># 存储log的位置<br>log_path = var/log/cowrie<br><br><br># 存储下载文件的位置<br>download_path = ${honeypot:state_path}/downloads<br><br><br># 静态文件位置<br>share_path = share/cowrie<br><br><br># 动态文件位置<br>state_path = var/lib/cowrie<br><br><br># 配置文件位置<br>etc_path = etc<br><br><br># 这仅用于’cat’之类的命令来显示文件的内容.<br># 在这里添加文件不足以让它们出现在蜜罐中， 实际的虚拟文件系统保存在filesysem_file中<br># 虚拟文件内容的位置<br>contents_path = honeyfs<br><br><br>#<br>#<br># 该命令必须放在此目录下，并带有正确的路径，例如<br># txtcmds/usr/bin/vi<br># 在内部运行时，文件的内容将是命令的输出<br># 另外，该文件必须存在于虚拟文件系统中<br>#<br># 存放虚拟命令的位置<br>txtcmds_path = txtcmds<br><br><br>#<br># 限制现在文件的最大大小<br>#download_limit_size = 10485760<br><br># tty用来在UML中记录完整终端交互记录（暂时不懂怎么用）<br>ttylog = true<br><br># 默认ttylog日志位置<br>ttylog_path = ${honeypot:state_path}/tty<br><br># 交互超时时间<br>interactive_timeout = 180<br><br># 设置认证失败的超时时间<br>authentication_timeout = 120<br><br># cowrie的后端用户, 选项: proxy or shell<br># 若用于代理，仅具有request_exec功能（使用真实的代理环境还是虚拟shell环境？）<br>backend = shell<br><br># 选择时区<br>timezone = UTC<br><br><br># ============================================================================<br># 网络配置<br># ============================================================================<br><br><br># 当服务器向外访问时使用的ip<br>#<br># (default: not specified)<br>#out_addr = 0.0.0.0<br><br><br># 连入过机器的虚拟IP<br># 这不影响log，只影响w、last等命令<br>#<br># If not specified, the actual IP address is displayed instead (default<br># behaviour).<br>#<br># (default: not specified)<br>#fake_addr = 192.168.66.254<br><br><br># 限制可以从因特网连入的地址.如果空则会自己分配<br>#<br>#internet_facing_ip = 9.9.9.9<br><br><br># 记录蜜罐的公网地址 (如果监听127.0.0.1是有用的)<br># IP address is obtained by querying <a href="http://myip.threatstream.com" target="_blank" rel="noopener">http://myip.threatstream.com</a><br>#report_public_ip = true<br><br><br><br># ============================================================================<br># Authentication Specific Options<br># ============================================================================<br><br><br># 实现checklogin（）方法的类<br>#<br># 必须是cowrie/core/auth.py中定义的<br># 默认是UserDB（密码数据库）<br># 可以使用AuthRandom（使一个用户在尝试随机次数后可以登录）<br>auth_class = UserDB<br><br># 当使用AuthRandom时可以设置<br>#  auth_class_parameters: <min try>, <max try>, <maxcache><br>#  比如2，5，10等于允许2-5次尝试后，缓存10种组合<br>#auth_class = AuthRandom<br>#auth_class_parameters = 2, 5, 10<br><br><br># 没有认证<br># ‘auth_none’可以使用户不需要认证即可登录<br>#auth_none_enabled = false<br><br># 配置键盘交互式登录(不懂)<br>auth_keyboard_interactive_enabled = false<br><br><br># ============================================================================<br># 历史SSH特定选项<br># ============================================================================<br><br># 记录源端口 (可以针对端口转发的情况)<br>#reported_ssh_port = 22<br><br><br><br># ============================================================================<br># SHELL选项<br># ============================================================================<br><br>[shell]<br><br># 包含虚拟文件系统的Python pickle格式的文件<br>#这包括Cowrie文件系统的文件名，路径和权限，但不包括文件内容。 这是由真实模板linux安装的bin / createfs实用程序创建的。<br>filesystem = ${honeypot:share_path}/fs.pickle<br><br><br># ps命令输出<br>#<br># (default: share/cowrie/cmdoutput.json)<br>processes = share/cowrie/cmdoutput.json<br><br><br># 虚拟操作系统框架<br><br>arch = linux-x64-lsb<br><br><br><br># uname -a返回的值<br>kernel_version = 3.2.0-4-amd64<br>kernel_build_string = #1 SMP Debian 3.2.68-1+deb7u1<br>hardware_platform = x86_64<br>operating_system = GNU/Linux<br><br># ssh -v 返回的值<br>ssh_version = OpenSSH_7.9p1, OpenSSL 1.1.1a  20 Nov 2018<br><br><br># ============================================================================<br># SSH 特殊选项<br># ============================================================================<br>[ssh]<br><br># 允许ssh<br>enabled = true<br><br><br># 公私钥<br>rsa_public_key = ${honeypot:state_path}/ssh_host_rsa_key.pub<br>rsa_private_key = ${honeypot:state_path}/ssh_host_rsa_key<br>dsa_public_key = ${honeypot:state_path}/ssh_host_dsa_key.pub<br>dsa_private_key = ${honeypot:state_path}/ssh_host_dsa_key<br><br><br># 返回到SSH版本<br>version = SSH-2.0-OpenSSH_6.0p1 Debian-4+deb7u2<br><br># 加密算法<br>ciphers = aes128-ctr,aes192-ctr,aes256-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc<br><br><br># mac算法<br>macs = hmac-sha2-512,hmac-sha2-384,hmac-sha2-56,hmac-sha1,hmac-md5<br><br><br># 压缩方法<br>compression = <a href="mailto:zlib@openssh.com" target="_blank" rel="noopener">zlib@openssh.com</a>,zlib,none<br><br><br># 指定可以连入的ip<br># 默认0.0.0.0允许any<br>#listen_addr = 0.0.0.0<br># (use :: for listen to all IPv6 and IPv4 addresses)<br>#listen_addr = ::<br><br><br># 监听端口<br>#listen_port = 2222<br><br><br># 允许SFTP<br>sftp_enabled = true<br><br><br># 允许ssh转发<br>forwarding = true<br><br><br># 转发请求到其他蜜罐<br>forward_redirect = false<br><br><br># 配置转发地址<br><br># Redirect http/https<br># forward_redirect_80 = 127.0.0.1:8000<br># forward_redirect_443 = 127.0.0.1:8443<br><br># To record SMTP traffic, install an SMTP honeypoint.<br># (e.g <a href="https://github.com/awhitehatter/mailoney)" target="_blank" rel="noopener">https://github.com/awhitehatter/mailoney)</a>, run<br># python mailoney.py -s yahoo.com -t schizo_open_relay -p 12525<br># forward_redirect_25 = 127.0.0.1:12525<br># forward_redirect_587 = 127.0.0.1:12525<br><br><br># This enables tunneling forwarding requests to another address<br># Useful for forwarding protocols to a proxy like Squid<br># (default: false)<br>forward_tunnel = false<br><br><br># Configure where to tunnel the data to.<br># forward_tunnel_<portnumber> = <tunnel ip>:<tunnel port><br><br># Tunnel http/https<br># forward_tunnel_80 = 127.0.0.1:3128<br># forward_tunnel_443 = 127.0.0.1:3128<br><br><br># ============================================================================<br># telnet 选项<br># ============================================================================<br>[telnet]<br><br># 支持telnet<br>enabled = false<br><br># 指定可连入IP<br>#<br># (default: 0.0.0.0) = any IPv4 address<br>#listen_addr = 0.0.0.0<br># (use :: for listen to all IPv6 and IPv4 addresses)<br>#listen_addr = ::<br><br><br># 指定监听端口<br>#<br># (default: 2223)<br>#listen_port = 2223<br><br><br># Endpoint to listen on for incoming Telnet connections.<br># See <a href="https://twistedmatrix.com/documents/current/core/howto/endpoints.html#servers" target="_blank" rel="noopener">https://twistedmatrix.com/documents/current/core/howto/endpoints.html#servers</a><br># (default: listen_endpoints = tcp:2223:interface=0.0.0.0)<br># (use systemd: endpoint for systemd activation)<br># listen_endpoints = systemd:domain=INET:index=0<br># For IPv4 and IPv6: listen_endpoints = tcp6:2223:interface=\:\: tcp:2223:interface=0.0.0.0<br># Listening on multiple endpoints is supported with a single space seperator<br># e.g “listen_endpoints = tcp:2223:interface=0.0.0.0 tcp:2323:interface=0.0.0.0” will result listening both on ports 2223 and 2323<br># use authbind for port numbers under 1024<br><br>listen_endpoints = tcp:2223:interface=0.0.0.0<br><br><br># Source Port to report in logs (useful if you use iptables to forward ports to Cowrie)<br>#reported_port = 23<br><br><br><br># ============================================================================<br># Database logging Specific Options<br># ============================================================================<br><br># XMPP Logging<br># Log to an xmpp server.<br>#<br>#[database_xmpp]<br>#server = sensors.carnivore.it<br>#user = <a href="mailto:anonymous@sensors.carnivore.it" target="_blank" rel="noopener">anonymous@sensors.carnivore.it</a><br>#password = anonymous<br>#muc = dionaea.sensors.carnivore.it<br>#signal_createsession = cowrie-events<br>#signal_connectionlost = cowrie-events<br>#signal_loginfailed = cowrie-events<br>#signal_loginsucceeded = cowrie-events<br>#signal_command = cowrie-events<br>#signal_clientversion = cowrie-events<br>#debug=true<br><br><br><br><br># ============================================================================<br># Output Plugins<br># These provide an extensible mechanism to send audit log entries to third<br># parties. The audit entries contain information on clients connecting to<br># the honeypot.<br>#<br># Output entries need to start with ‘output_’ and have the ‘enabled’ entry.<br># ============================================================================<br><br>#[output_xmpp]<br>#enabled=true<br>#server = conference.cowrie.local<br>#user = <a href="mailto:cowrie@cowrie.local" target="_blank" rel="noopener">cowrie@cowrie.local</a><br>#password = cowrie<br>#muc = hacker_room<br><br># JSON based logging module<br>#<br>[output_jsonlog]<br>enabled = true<br>logfile = ${honeypot:log_path}/cowrie.json<br>epoch_timestamp = false<br><br># Supports logging to Elasticsearch<br># This is a simple early release<br>#<br>#[output_elasticsearch]<br>#enabled = false<br>#host = localhost<br>#port = 9200<br>#index = cowrie<br>#type = cowrie<br>#pipeline = geoip<br><br><br># Send login attemp information to SANS DShield<br># See <a href="https://isc.sans.edu/ssh.html" target="_blank" rel="noopener">https://isc.sans.edu/ssh.html</a><br># You must signup for an api key.<br># Once registered, find your details at: <a href="https://isc.sans.edu/myaccount.html" target="_blank" rel="noopener">https://isc.sans.edu/myaccount.html</a><br>#<br>#[output_dshield]<br>#userid = userid_here<br>#auth_key = auth_key_here<br>#batch_size = 100<br>#enabled = false<br><br><br># Local Syslog output module<br>#<br># This sends log messages to the local syslog daemon.<br># Facility can be:<br># KERN, USER, MAIL, DAEMON, AUTH, LPR, NEWS, UUCP, CRON, SYSLOG and LOCAL0 to LOCAL7.<br>#<br># Format can be:<br># text, cef<br>#<br>#[output_localsyslog]<br>#enabled = false<br>#facility = USER<br>#format = text<br><br><br># Text output<br># This writes audit log entries to a text file<br>#<br># Format can be:<br># text, cef<br>#<br>#[output_textlog]<br>#enabled = false<br>#logfile = ${honeypot:log_path}/audit.log<br>#format = text<br><br><br># MySQL logging module<br># Database structure for this module is supplied in docs/sql/mysql.sql<br>#<br># MySQL logging requires extra software: sudo apt-get install libmysqlclient-dev<br># MySQL logging requires an extra Python module: pip install mysql-python<br>#<br>#[output_mysql]<br>#enabled = false<br>#host = localhost<br>#database = cowrie<br>#username = cowrie<br>#password = secret<br>#port = 3306<br>#debug = false<br><br># Rethinkdb output module<br># Rethinkdb output module requires extra Python module: pip install rethinkdb<br><br>#[output_rethinkdblog]<br>#enabled = false<br>#host = 127.0.0.1<br>#port = 28015<br>#table = output<br>#password =<br>#db = cowrie<br><br># SQLite3 logging module<br>#<br># Logging to SQLite3 database. To init the database, use the script<br># docs/sql/sqlite3.sql:<br>#     sqlite3 &lt;db_file&gt; &lt; docs/sql/sqlite3.sql<br>#<br>#[output_sqlite]<br>#enabled = false<br>#db_file = cowrie.db<br><br># MongoDB logging module<br>#<br># MongoDB logging requires an extra Python module: pip install pymongo<br>#<br>#[output_mongodb]<br>#enabled = false<br>#connection_string = mongodb://username:password@host:port/database<br>#database = dbname<br><br><br># Splunk HTTP Event Collector (HEC) output module<br># sends JSON directly to Splunk over HTTP or HTTPS<br># Use ‘https’ if your HEC is encrypted, else ‘http’<br># mandatory fields: url, token<br># optional fields: index, source, sourcetype, host<br>#<br>#[output_splunk]<br>#enabled = false<br>#url = <a href="https://localhost:8088/services/collector/event" target="_blank" rel="noopener">https://localhost:8088/services/collector/event</a><br>#token = 6A0EA6C6-8006-4E39-FC44-C35FF6E561A8<br>#index = cowrie<br>#sourcetype = cowrie<br>#source = cowrie<br><br><br># HPFeeds<br>#<br>#[output_hpfeeds]<br>#enabled = false<br>#server = hpfeeds.mysite.org<br>#port = 10000<br>#identifier = abc123<br>#secret = secret<br>#debug=false<br><br><br># VirusTotal output module<br># You must signup for an api key.<br>#<br>#[output_virustotal]<br>#enabled = false<br>#api_key = 0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef<br>#upload = True<br>#debug = False<br>#scan_file = True<br>#scan_url = False<br><br><br># Cuckoo output module<br>#[output_cuckoo]<br>#enabled = false<br># no slash at the end<br>#url_base = <a href="http://127.0.0.1:8090" target="_blank" rel="noopener">http://127.0.0.1:8090</a><br>#user = user<br>#passwd = passwd<br># force will upload duplicated files to cuckoo<br>#force = 0<br><br># upload to MalShare<br>#[output_malshare]<br>#enabled = false<br><br># This will produce a <em>lot</em> of messages - you have been warned….<br>#[output_slack]<br>#enabled = false<br>#channel = channel_that_events_should_be_posted_in<br>#token = slack_token_for_your_bot<br>#debug = false<br><br><br># <a href="https://csirtg.io" target="_blank" rel="noopener">https://csirtg.io</a><br># You must signup for an api key.<br>#<br>#[output_csirtg]<br>#enabled = false<br>#username = wes<br>#feed = scanners<br>#description = random scanning activity<br>#token = 0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef<br><br><br>#[output_socketlog]<br>#enabled = false<br>#address = 127.0.0.1:9000<br>#timeout = 5<br><br># Upload files that cowrie has captured to an S3 (or compatible bucket)<br># Files are stored with a name that is the SHA of their contents<br>#<br>#[output_s3]<br>#<br># The AWS credentials to use.<br># Leave these blank to use botocore’s credential discovery e.g .aws/config or ENV variables.<br># As per <a href="https://github.com/boto/botocore/blob/develop/botocore/credentials.py#L50-L65" target="_blank" rel="noopener">https://github.com/boto/botocore/blob/develop/botocore/credentials.py#L50-L65</a><br>#access_key_id = AKIDEXAMPLE<br>#secret_access_key = wJalrXUtnFEMI/K7MDENG+bPxRfiCYEXAMPLEKEY<br>#<br># The bucket to store the files in. The bucket must already exist.<br>#bucket = my-cowrie-bucket<br>#<br># The region the bucket is in<br>#region = eu-west-1<br>#<br># An alternate endpoint URL. If you self host a pithos instance you can set<br># this to its URL (e.g. <a href="https://s3.mydomain.com" target="_blank" rel="noopener">https://s3.mydomain.com</a>) - can otherwise be blank<br>#endpoint =<br>#<br># Whether or not to validate the S3 certificate. Set this to ‘no’ to turn this<br># off. Do not do this for real AWS. It’s only needed for self-hosted S3 clone<br># where you don’t yet have real certificates.<br>#verify = no<br><br>#[output_influx]<br>#enabled = false<br>#host = 127.0.0.1<br>#port = 8086<br>#database_name = cowrie<br>#retention_policy_duration = 12w<br><br>[output_kafka]<br>enabled = false<br>host = 127.0.0.1<br>port = 9092<br>topic = cowrie<br><br><br>#[output_redis]<br>#enabled = false<br>#host = 127.0.0.1<br>#port = 6379<br># DB of the redis server. Defaults to 0<br>#db = 0<br># Password of the redis server. Defaults to None<br>#password = secret<br># Name of the list to push to or the channel to publish to. Required<br>#keyname = cowrie<br># Method to use when sending data to redis.<br># Can be one of [lpush, rpush, publish]. Defaults to lpush<br>#send_method = lpush<br><br><br># Perform Reverse DNS lookup<br>#[output_reversedns]<br>#enabled = true<br># Timeout in seconds<br>#timeout = 3<br><br>#[output_greynoise]<br>#enabled = true<br>#debug=False<br># Name of the tags separated by comma, for which the IP has to be scanned for.<br># Example “SHODAN,JBOSS_WORM,CPANEL_SCANNER_LOW”<br># If there isn’t any specific tag then just leave it “all”<br>#tags = all<br># It’s optional to have API key, so if you don’t want to but<br># API key then leave this option commented<br>#api_key = 1234567890<br></tunnel></tunnel></portnumber></maxcache></max></min></details>









<p>配置vi /data/cowrie/cowrie-git/etc/cowrie.cfg </p>
<p>`[honeypot]<br>hostname = ubuntu<br>log_path = log<br>download_path = dl<br>report_public_ip = true<br>share_path= share/cowrie<br>state_path = /tmp/cowrie/data<br>etc_path = etc<br>contents_path = honeyfs<br>txtcmds_path = txtcmds<br>ttylog = true<br>ttylog_path = log/tty<br>interactive_timeout = 180<br>authentication_timeout = 120<br>backend = shell<br>auth_class = AuthRandom<br>auth_class_parameters = 2, 5, 10<br>reported_ssh_port = 2222<br>data_path = /tmp/cowrie/data</p>
<p>[shell]<br>filesystem = share/cowrie/fs.pickle<br>processes = share/cowrie/cmdoutput.json<br>arch = linux-x64-lsb<br>kernel_version = 3.2.0-4-amd64<br>kernel_build_string = #1 SMP Debian 3.2.68-1+deb7u1<br>hardware_platform = x86_64<br>operating_system = GNU/Linux</p>
<p>[ssh]<br>enabled = true<br>rsa_public_key = etc/ssh_host_rsa_key.pub<br>rsa_private_key = etc/ssh_host_rsa_key<br>dsa_public_key = etc/ssh_host_dsa_key.pub<br>dsa_private_key = etc/ssh_host_dsa_key<br>version = SSH-2.0-OpenSSH_7.2p2 Ubuntu-4ubuntu2.2<br>listen_endpoints = tcp:2222:interface=0.0.0.0<br>sftp_enabled = true<br>forwarding = true<br>forward_redirect = false<br>forward_tunnel = false</p>
<p>[telnet]<br>enabled = true<br>listen_endpoints = tcp:2223:interface=0.0.0.0<br>reported_port = 2223</p>
<p>[output_jsonlog]<br>enabled = true<br>logfile = /cowrie/cowrie-git/var/log/cowrie/cowrie.json<br>epoch_timestamp = false`</p>
<p>生成密钥对，复制到etc下，修改名字，与cowrie.cfg 对应</p>
<p>ssh-keygen -t dsa<br>ssh-keygen -t rsa </p>
<p>docker-compose up</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/23/蜜罐搭建/ssh蜜罐-cowrie/" data-id="cjv56t3qn000d9whfsm2ookvw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/04/23/蜜罐搭建/cowrie翻译/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          cowrie配置文件翻译
        
      </div>
    </a>
  
  
    <a href="/2019/04/22/蜜罐搭建/蜜罐搭建/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">蜜罐搭建</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CTF/">CTF</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CTF/网强杯/">网强杯</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CTF/网强杯/misc/">misc</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CVE漏洞分析/">CVE漏洞分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DDOS/">DDOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ELK平台搭建/">ELK平台搭建</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/《漏洞战争》学习笔记/">《漏洞战争》学习笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/《漏洞战争》学习笔记/第一章-栈溢出/">第一章-栈溢出</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/《漏洞战争》学习笔记/第二章-堆溢出/">第二章-堆溢出</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/取证分析/">取证分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/蜜罐/">蜜罐</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/05/01/蜜罐搭建/mongo蜜罐/">cowrie配置文件翻译</a>
          </li>
        
          <li>
            <a href="/2019/05/01/CTF/网强杯/">网强杯</a>
          </li>
        
          <li>
            <a href="/2019/05/01/蜜罐搭建/rdp蜜罐/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/04/23/蜜罐搭建/cowrie翻译/">cowrie配置文件翻译</a>
          </li>
        
          <li>
            <a href="/2019/04/23/蜜罐搭建/ssh蜜罐-cowrie/">ssh蜜罐-cowrie</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>